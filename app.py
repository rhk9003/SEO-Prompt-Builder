import streamlit as st

# --- é é¢è¨­å®š ---
st.set_page_config(
    page_title="SEO å¼·æ•ˆæˆ°ç•¥å„€è¡¨æ¿",
    page_icon="ğŸš€",
    layout="wide"
)

# --- CSS æ¨£å¼å„ªåŒ– ---
st.markdown("""
<style>
    .stTextArea textarea {
        font-family: monospace;
        font-size: 0.9rem;
    }
    .block-container {
        padding-top: 2rem;
    }
    h3 {
        color: #FF4B4B; 
        font-size: 1.2rem;
    }
</style>
""", unsafe_allow_html=True)

st.title("ğŸš€ SEO å¼·æ•ˆæˆ°ç•¥ï¼šå…¨æµç¨‹ Prompt ç”Ÿæˆå™¨")
st.caption("åŸºæ–¼ã€Œå¼·ç‰ˆã€SEO å·¥ä½œæµè¨­è¨ˆï¼Œå¡«å¯«å·¦å´è³‡è¨Šï¼Œå³å´è‡ªå‹•ç”Ÿæˆé«˜è³ªé‡ Promptã€‚")
st.divider()

# --- è¼”åŠ©å‡½å¼ ---
def get_value(input_val, placeholder_text):
    if input_val.strip():
        return input_val
    return f"[{placeholder_text}]"

# ==========================================
# Step 1: ç”¢å“è§£æ (å¼·ç‰ˆ)
# ==========================================
st.header("âœ… Step 1ï¼šç”¢å“ / è¨ˆç•«è§£æ")
col1_s1, col2_s1 = st.columns([1, 1])

with col1_s1:
    p1_input = st.text_area("Step 1 è¼¸å…¥ï¼šç”¢å“/è¨ˆç•«å…§å®¹", height=200, placeholder="è«‹è²¼ä¸Šå®˜ç¶²å…§å®¹ã€ç”¢å“ç™½çš®æ›¸æˆ–è¨ˆç•«èªªæ˜...")

with col2_s1:
    st.markdown("### ğŸ“‹ è¤‡è£½ Prompt çµ¦ AI")
    p1_content = get_value(p1_input, "å…§å®¹è²¼åœ¨é€™è£¡")
    
    prompt1 = f"""è«‹æ ¹æ“šæˆ‘æä¾›çš„ç”¢å“/è¨ˆç•«å…§å®¹ï¼Œé€²è¡Œæ¢åˆ—å¼è§£æã€‚

è«‹ä¾ç…§ä»¥ä¸‹æ ¼å¼è¼¸å‡ºï¼š

1. **ä¸€å¥è©±ç¸½çµï¼ˆWhat is itï¼‰**
   - ç”¨æœ€ç²¾æº–çš„ä¸€å¥è©±æè¿°ç”¢å“/è¨ˆç•«æ˜¯ä»€éº¼ã€‚

2. **ç›®æ¨™å®¢ç¾¤ï¼ˆTarget Userï¼‰**
   - åˆ—å‡º 1â€“2 é¡ä¸»è¦å®¢ç¾¤
   - è‹¥æœ‰æ¬¡è¦å®¢ç¾¤ä¹Ÿä¸€ä½µåˆ—å‡ºã€‚

3. **æ ¸å¿ƒåƒ¹å€¼ä¸»å¼µï¼ˆValue Propositionï¼‰**
   - åˆ—å‡º 3â€“5 å€‹æœ€æ ¸å¿ƒçš„åƒ¹å€¼
   - æ¯é»éœ€æ˜¯æ˜ç¢ºçš„ä½¿ç”¨è€…åˆ©ç›Šã€‚

4. **ä½¿ç”¨è€…ç—›é»ï¼ˆPain Pointsï¼‰**
   - æ˜ç¢ºåˆ—å‡ºé€™å€‹ç”¢å“/è¨ˆç•«è¦è§£æ±ºçš„å•é¡Œã€‚

5. **ç›®å‰å…§å®¹èªªæ˜çš„ç¼ºå£ï¼ˆInformation Gapsï¼‰**
   - ä¾ç…§è³‡è¨Šæ¶æ§‹è§’åº¦ï¼ŒæŒ‡å‡ºé é¢å¯èƒ½æ²’è¬›æ¸…æ¥šæˆ–éœ€è¦è£œå¼·çš„åœ°æ–¹ã€‚

---

ä»¥ä¸‹æ˜¯ç”¢å“/è¨ˆç•«å…§å®¹ï¼š
{p1_content}"""
    
    st.code(prompt1, language="markdown")

st.divider()

# ==========================================
# Step 2: ä»»å‹™ç›®æ¨™ -> ä¸»é¡Œç™¼æƒ³ (å¼·ç‰ˆ)
# ==========================================
st.header("âœ… Step 2ï¼šä»»å‹™ç›®æ¨™ â†’ ä¸»é¡Œç™¼æƒ³")
col1_s2, col2_s2 = st.columns([1, 1])

with col1_s2:
    p2_input = st.text_area("Step 2 è¼¸å…¥ï¼šSEO ä»»å‹™ç›®æ¨™", height=150, placeholder="ä¾‹å¦‚ï¼šé‡å°ä¸­å°ä¼æ¥­ä¸»ï¼Œå»ºç«‹å“ç‰Œæ¬Šå¨ä¸¦å¼•å°è©¦ç”¨è¨»å†Š...")

with col2_s2:
    st.markdown("### ğŸ“‹ è¤‡è£½ Prompt çµ¦ AI")
    p2_goal = get_value(p2_input, "ä»»å‹™ç›®æ¨™")
    
    prompt2 = f"""ä»¥ä¸‹æ˜¯æˆ‘é€™ç¯‡ SEO æ–‡ç« çš„ä»»å‹™ç›®æ¨™ï¼š
{p2_goal}

è«‹æ ¹æ“šé€™å€‹ç›®æ¨™ï¼Œç”¢å‡º **10â€“20 å€‹å¯æ“ä½œçš„ä¸»é¡Œæ–¹å‘**ï¼ˆTopic Clustersï¼‰ï¼Œä¸¦ä»¥è¡¨æ ¼æ–¹å¼å‘ˆç¾ï¼š

| ä¸»é¡Œæ–¹å‘ï¼ˆTopicï¼‰ | é–¢éµå­—é¡å‹ï¼ˆæ ¸å¿ƒ/é•·å°¾/å•†æ¥­/è³‡è¨Šï¼‰ | æœå°‹æ„åœ–é¡å‹ï¼ˆè³‡è¨Šå‹/å•†æ¥­å‹/æ¯”è¼ƒå‹/äº¤æ˜“å‹ï¼‰ | è¨»è§£ï¼ˆç‚ºä»€éº¼é©åˆæ­¤ç›®æ¨™ï¼‰ |

è«‹ç¢ºä¿ä¸»é¡Œæ–¹å‘ï¼š
- èˆ‡ä»»å‹™ç›®æ¨™é«˜åº¦ç›¸é—œ
- æ¶µè“‹è³‡è¨Šæ„åœ–èˆ‡å•†æ¥­æ„åœ–
- ä¸»é¡Œä¹‹é–“ä¸é‡è¤‡"""
    
    st.code(prompt2, language="markdown")

st.divider()

# ==========================================
# Step 3: æ ¸å¿ƒé—œéµå­—ç¯©é¸ (å¼·ç‰ˆ)
# ==========================================
st.header("âœ… Step 3ï¼šæ ¸å¿ƒé—œéµå­—ç¯©é¸")
col1_s3, col2_s3 = st.columns([1, 1])

with col1_s3:
    p3_input = st.text_area("Step 3 è¼¸å…¥ï¼šAI ç”¢å‡ºçš„ä¸»é¡Œæ¸…å–®", height=150, placeholder="è²¼ä¸Š Step 2 è¡¨æ ¼ä¸­çš„ä¸»é¡Œæ–¹å‘...")

with col2_s3:
    st.markdown("### ğŸ“‹ è¤‡è£½ Prompt çµ¦ AI")
    p3_list = get_value(p3_input, "æ¸…å–®å…§å®¹")
    
    prompt3 = f"""ä»¥ä¸‹æ˜¯ä½ æä¾›çš„ä¸»é¡Œ/é—œéµå­—æ¸…å–®ï¼š
{p3_list}

è«‹å¾ä¸­æŒ‘é¸é©åˆ **æœ¬ç¯‡æ–‡ç« æ“ä½œçš„æ ¸å¿ƒé—œéµå­—**ï¼ˆ1â€“3 å€‹ï¼‰ã€‚

è«‹ä¾ç…§ä¸‹åˆ—æ ¼å¼è¼¸å‡ºï¼š

1. **æ ¸å¿ƒé—œéµå­—ï¼ˆPrimary Keywordï¼‰**
   - 1â€“3 å€‹ï¼Œä¸¦é™„ä¸Šé¸æ“‡ç†ç”±

2. **æ¬¡è¦é—œéµå­—ï¼ˆSecondary Keywordsï¼‰**
   - 5â€“8 å€‹ï¼Œç”¨æ–¼æ–‡ç« å…§è‡ªç„¶è¦†è“‹

3. **è£œå……é—œéµå­—ï¼ˆSupporting Keywordsï¼‰**
   - 3â€“5 å€‹ï¼Œç”¨æ–¼æ“´å……å…§å®¹æ·±åº¦

è«‹é™„ä¸Šï¼š
- ä¸Šè¿°åˆ†é¡çš„ç†ç”±
- é€™çµ„é—œéµå­—ç­–ç•¥çš„ SEO æ“ä½œé‚è¼¯"""
    
    st.code(prompt3, language="markdown")

st.divider()

# ==========================================
# Step 4: æœå°‹æ„åœ– Deep Research (å¼·ç‰ˆ)
# ==========================================
st.header("âœ… Step 4ï¼šæœå°‹æ„åœ– Deep Research")
col1_s4, col2_s4 = st.columns([1, 1])

with col1_s4:
    p4_input = st.text_area("Step 4 è¼¸å…¥ï¼šç¢ºèªçš„æ ¸å¿ƒé—œéµå­—", height=150, placeholder="ä¾‹å¦‚ï¼š\nè‡ªå‹•åŒ–è¨˜å¸³\né›²ç«¯æœƒè¨ˆè»Ÿé«”æ¨è–¦")

with col2_s4:
    st.markdown("### ğŸ“‹ è¤‡è£½ Prompt çµ¦ AI")
    p4_keywords = get_value(p4_input, "æ ¸å¿ƒé—œéµå­—")
    
    prompt4 = f"""è«‹å°ä»¥ä¸‹æ ¸å¿ƒé—œéµå­—é€²è¡Œ SERP Deep Researchï¼š
{p4_keywords}

å·¥ä½œé …ç›®ï¼š
1. **æ¨¡æ“¬é€™äº›é—œéµå­—åœ¨ Google å‰ 20 ç­†çµæœçš„æ¨™é¡Œ**
   - è‡³å°‘åˆ—å‡º 10 å€‹æ¨™é¡Œæ¨£å¼
   - æ¨™è¨˜å…§å®¹å½¢å¼ï¼ˆæ•™å­¸/æ¯”è¼ƒ/å¿ƒå¾—/å®˜æ–¹èªªæ˜/FAQ/åè©è§£é‡‹ï¼‰

2. **æ¨è«–æœå°‹æ„åœ–ï¼ˆSearch Intentï¼‰**
   - ä¸»è¦æ„åœ–ï¼ˆ1 å€‹ï¼‰
   - æ¬¡è¦æ„åœ–ï¼ˆ1â€“3 å€‹ï¼‰
   - éš±æ€§éœ€æ±‚ï¼ˆä½¿ç”¨è€…æ²’æœ‰æ˜è¬›ä½†æœƒé—œå¿ƒçš„ï¼‰

3. **æ‰¾å‡ºå¸‚å ´å…§å®¹ç¼ºå£ï¼ˆContent Gapï¼‰**
   - ç›®å‰ SERP æ²’æœ‰ä½†ä½¿ç”¨è€…æƒ³çŸ¥é“çš„è³‡è¨Š
   - ç«¶çˆ­è€…æ™®éå¼±çš„åœ°æ–¹

è«‹ä»¥çµæ§‹åŒ–åˆ—è¡¨å½¢å¼è¼¸å‡ºï¼Œä¸¦ä¾ç…§æ¯å€‹é—œéµå­—åˆ†æ®µæ•´ç†ã€‚"""
    
    st.code(prompt4, language="markdown")

st.divider()

# ==========================================
# Step 5: æ–‡ç« æ¨™é¡Œç”Ÿæˆ (å¼·ç‰ˆ)
# ==========================================
st.header("âœ… Step 5ï¼šæ–‡ç« æ¨™é¡Œç”Ÿæˆ")
col1_s5, col2_s5 = st.columns([1, 1])

with col1_s5:
    p5_input = st.text_area("Step 5 è¼¸å…¥ï¼šæœå°‹æ„åœ–åˆ†æçµæœ", height=150, placeholder="è²¼ä¸Š Step 4 çš„æ„åœ–åˆ†æèˆ‡ç¼ºå£åˆ†æ...")

with col2_s5:
    st.markdown("### ğŸ“‹ è¤‡è£½ Prompt çµ¦ AI")
    p5_intent = get_value(p5_input, "æœå°‹æ„åœ–")
    
    prompt5 = f"""ä»¥ä¸‹æ˜¯æœå°‹æ„åœ–åˆ†æçµæœï¼š
{p5_intent}

è«‹æ ¹æ“šæœå°‹æ„åœ–ï¼Œç”¢å‡º **15â€“20 å€‹ç¬¦åˆ SEO çš„æ–‡ç« æ¨™é¡Œ**ã€‚

è«‹åˆ†æˆä¸‰é¡è¼¸å‡ºï¼š

1. **è³‡è¨Šå‹ï¼ˆInformation Intentï¼‰**
2. **æ¯”è¼ƒå‹ / é¸æ“‡å‹ï¼ˆComparison Intentï¼‰**
3. **è¡Œå‹•å°å‘å‹ï¼ˆTransactional / CTA Intentï¼‰**

è¦æ±‚ï¼š
- æ¯å€‹æ¨™é¡Œéœ€å…·å‚™é»æ“Šå‹•æ©Ÿ
- å„˜é‡èå…¥æ ¸å¿ƒé—œéµå­—
- é¿å…éåº¦è³å‹•çš„æ¨™é¡Œé»¨æ ¼å¼"""
    
    st.code(prompt5, language="markdown")

st.divider()

# ==========================================
# Step 6: æ–‡ç« å¤§ç¶± (å¼·ç‰ˆ)
# ==========================================
st.header("âœ… Step 6ï¼šæ–‡ç« å¤§ç¶±")
col1_s6, col2_s6 = st.columns([1, 1])

with col1_s6:
    p6_input = st.text_input("Step 6 è¼¸å…¥ï¼šæœ€çµ‚é¸æ“‡çš„æ¨™é¡Œ", placeholder="è¼¸å…¥ä½ é¸å¥½çš„é‚£å€‹æ¨™é¡Œ")

with col2_s6:
    st.markdown("### ğŸ“‹ è¤‡è£½ Prompt çµ¦ AI")
    p6_title = get_value(p6_input, "æœ€çµ‚æ¨™é¡Œ")
    
    prompt6 = f"""ä»¥ä¸‹æ˜¯æˆ‘é¸æ“‡çš„æ–‡ç« æ¨™é¡Œï¼š
{p6_title}

è«‹æ ¹æ“šé€™å€‹æ¨™é¡Œï¼Œç”¢å‡ºå®Œæ•´çš„å¤§ç¶±ã€‚

æ ¼å¼è¦æ±‚ï¼š

1. **æ•´é«”çµæ§‹** - H1ï¼šæ–‡ç« æ¨™é¡Œ  
   - H2ï¼šä¸»ç¯€é» 5â€“7 å€‹  
   - H3ï¼šå„ H2 ä¸‹çš„å­ç¯€é» 2â€“4 å€‹  

2. **æ¯å€‹ H2 å¿…é ˆå›ç­”ä¸€å€‹ã€Œä½¿ç”¨è€…å•é¡Œã€** - é€™äº›å•é¡Œéœ€èˆ‡æœå°‹æ„åœ–ä¸€è‡´  
   - å•é¡Œéœ€æ˜ç¢ºã€å¯è¢«å›ç­”  

3. **å¤§ç¶±ä¸‹æ–¹é™„ä¸Šã€Œæ–‡ç« é‚è¼¯è§£èªªã€** - èªªæ˜å…§å®¹å¦‚ä½•ç¬¦åˆæœå°‹æ„åœ–  
   - èªªæ˜å…§å®¹å¦‚ä½•æ”¯æ´ SEOï¼ˆè¦†è“‹å“ªäº›æ„åœ–èˆ‡é—œéµå­—ï¼‰"""
    
    st.code(prompt6, language="markdown")

st.divider()

# ==========================================
# Step 7: æ–‡ç« æ’°å¯« + æŠ€è¡“ SEO (å¼·ç‰ˆ)
# ==========================================
st.header("âœ… Step 7ï¼šæ–‡ç« æ’°å¯« + æŠ€è¡“ SEO")
col1_s7, col2_s7 = st.columns([1, 1])

with col1_s7:
    p7_word = st.text_input("æ–‡ç« å­—æ•¸éœ€æ±‚ï¼š", value="1500å­—")
    p7_cta = st.text_input("CTA é€£çµèˆ‡æ–‡å­—ï¼š", value="å…è²»è©¦ç”¨ï¼šhttps://example.com")
    p7_outline = st.text_area("Step 7 è¼¸å…¥ï¼šç¢ºèªå¾Œçš„å¤§ç¶±", height=200, placeholder="è²¼ä¸Š Step 6 çš„å®Œæ•´å¤§ç¶±...")

with col2_s7:
    st.markdown("### ğŸ“‹ è¤‡è£½ Prompt çµ¦ AI")
    # ä½¿ç”¨ä¸Šä¸€æ­¥çš„æ¨™é¡Œè®Šæ•¸ï¼Œå¦‚æœæ²’å¡«å‰‡é¡¯ç¤ºä½”ä½ç¬¦
    p7_title_final = get_value(p6_input, "æœ€çµ‚æ¨™é¡Œ")
    p7_outline_final = get_value(p7_outline, "å¤§ç¶±å…§å®¹")
    
    prompt7 = f"""è«‹æ ¹æ“šä»¥ä¸‹è³‡è¨Šæ’°å¯«æ–‡ç« ï¼š
- æ¨™é¡Œï¼š{p7_title_final}
- æ–‡ç« å­—æ•¸ï¼š{p7_word}
- CTA é€£çµï¼š{p7_cta}
- å¤§ç¶±ï¼š{p7_outline_final}

å¯«ä½œè¦æ±‚ï¼š
1. èªæ°£å°ˆæ¥­ã€æ¸…æ¥šä½†ä¸æµ®èª‡  
2. é¿å…éåº¦è¡ŒéŠ·èªæ°£  
3. ä½¿ç”¨çœŸå¯¦æ¡ˆä¾‹æˆ–å¯æ“ä½œç¤ºä¾‹  
4. æ¯æ®µè½ä¿æŒçµæ§‹èˆ‡é‚è¼¯  
5. é©åº¦èå…¥æ¬¡è¦èˆ‡è£œå……é—œéµå­—  
6. å…§å®¹é ˆæ˜é¡¯å›ç­”æœå°‹æ„åœ–  

---

## ğŸ“Œ å¯«å®Œæ–‡ç« å¾Œï¼Œè«‹é¡å¤–è¼¸å‡ºä»¥ä¸‹ SEO å…ƒä»¶ï¼š

### 1. Meta Title
- â‰¤ 60 å­—å…ƒ
- å¿…é ˆåŒ…å«æ ¸å¿ƒé—œéµå­—
- å¿…é ˆæœ‰é»æ“Šèª˜å› 

### 2. Meta Description
- â‰¤ 160 å­—å…ƒ
- å¿…é ˆåŒ…å«æ ¸å¿ƒé—œéµå­—
- çµå°¾é ˆåŒ…å« CTA å¼•å°ï¼ˆä¾‹å¦‚ï¼šç«‹å³äº†è§£ / é»æ“ŠæŸ¥çœ‹æ›´å¤šï¼‰

### 3. Schema Markup å»ºè­°
è«‹æ ¹æ“šæœ¬æ–‡å…§å®¹çµ¦å‡ºæœ€é©åˆçš„ Schema é¡å‹ï¼Œä¸¦æä¾›ï¼š
- Schema é¡å‹ï¼ˆä¾‹å¦‚ Articleã€FAQPageã€HowToï¼‰
- é¸æ“‡ç†ç”±ï¼ˆä¾‹å¦‚å¯æé«˜ CTRã€SERP é¡¯ç¤ºå¼·åŒ–ç­‰ï¼‰"""
    
    st.code(prompt7, language="markdown")

# --- åº•éƒ¨ ---
st.divider()
st.info("ğŸ’¡ æç¤ºï¼šæ­¤é é¢ä¸ä¿å­˜è³‡æ–™ï¼Œé‡æ–°æ•´ç†ç¶²é å°‡æœƒæ¸…ç©ºæ‰€æœ‰å…§å®¹ã€‚å»ºè­°å®Œæˆä¸€æ®µè¤‡è£½ä¸€æ®µã€‚")
if st.button("ğŸ—‘ï¸ æ¸…ç©ºæ‰€æœ‰å…§å®¹"):
    st.rerun()
