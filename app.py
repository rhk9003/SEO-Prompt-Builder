import streamlit as st

# --- é é¢è¨­å®š ---
st.set_page_config(
    page_title="SEO Prompt å…¨è¦½å„€è¡¨æ¿",
    page_icon="ğŸ“‘",
    layout="wide"
)

# --- æ¨£å¼èª¿æ•´ ---
st.markdown("""
<style>
    .stTextArea textarea {
        font-family: monospace;
    }
</style>
""", unsafe_allow_html=True)

st.title("ğŸ“‘ SEO æ–‡ç« æˆ°ç•¥ï¼šå…¨æµç¨‹ Prompt ç”Ÿæˆå™¨")
st.markdown("""
**ä½¿ç”¨èªªæ˜ï¼š**
1. ä¾ç…§é †åºåœ¨**å·¦å´**æ¬„ä½å¡«å…¥ä½ çš„è³‡è¨Šï¼ˆæˆ–è²¼ä¸Š AI ä¸Šä¸€æ­¥çš„å›è¦†ï¼‰ã€‚
2. **å³å´**æœƒå³æ™‚çµ„è£å¥½ Promptã€‚
3. å³ä½¿æ¬„ä½ç•™ç©ºï¼Œå³å´ä¹Ÿæœƒé¡¯ç¤ºå¸¶æœ‰ `[ä½”ä½ç¬¦]` çš„ Promptï¼Œæ–¹ä¾¿ä½ ç›´æ¥è¤‡è£½æ ¼å¼ã€‚
""")

st.divider()

# --- è¼”åŠ©å‡½å¼ ---
def get_value(input_val, placeholder_text):
    if input_val.strip():
        return input_val
    return f"[{placeholder_text}]"

# ==========================================
# Section 1: ç”¢å“è§£æ
# ==========================================
st.header("Step 1: ç”¢å“/è¨ˆç•«è§£æ")
col1_s1, col2_s1 = st.columns([1, 1])

with col1_s1:
    p1_input = st.text_area("åœ¨æ­¤è¼¸å…¥ç”¢å“/è¨ˆç•«é é¢å…§å®¹ï¼š", height=200, placeholder="è²¼ä¸Šä½ çš„ç¶²ç«™æ–‡æ¡ˆã€ç”¢å“ä»‹ç´¹æˆ–æ˜¯è¨ˆç•«æ›¸å…§å®¹...")

with col2_s1:
    st.caption("ğŸš€ è¤‡è£½ä¸‹æ–¹çš„ Prompt çµ¦ AIï¼š")
    p1_content = get_value(p1_input, "è«‹åœ¨æ­¤è™•è²¼ä¸Šæ‚¨çš„ç”¢å“/è¨ˆç•«å…§å®¹")
    
    prompt1 = f"""å¹«æˆ‘è§£æï¼Œé€™å€‹è¨ˆç•«/ç”¢å“é ä¸­ï¼Œæä¾›äº†ä»€éº¼?è§£æ±ºäº†ä»€éº¼å•é¡Œ?

å…§å®¹å¦‚ä¸‹ï¼š
{p1_content}"""
    
    st.code(prompt1, language="markdown")

st.divider()

# ==========================================
# Section 2: è¨­å®šç›®æ¨™èˆ‡ä¸»é¡Œç™¼æƒ³
# ==========================================
st.header("Step 2: è¨­å®šç›®æ¨™ & ä¸»é¡Œç™¼æƒ³")
col1_s2, col2_s2 = st.columns([1, 1])

with col1_s2:
    p2_input = st.text_area("åœ¨æ­¤è¼¸å…¥ SEO ä»»å‹™ç›®æ¨™ï¼š", height=150, placeholder="ä¾‹å¦‚ï¼šæˆ‘æƒ³è®“æ‰¾ã€è‡ªå‹•åŒ–è¡ŒéŠ·ã€çš„ä¸­å°ä¼æ¥­ä¸»çœ‹åˆ°é€™ç¯‡æ–‡ç« ...")

with col2_s2:
    st.caption("ğŸš€ è¤‡è£½ä¸‹æ–¹çš„ Prompt çµ¦ AIï¼š")
    p2_goal = get_value(p2_input, "è«‹åœ¨æ­¤è™•æè¿°æ‚¨çš„ SEO ä»»å‹™ç›®æ¨™")
    
    prompt2 = f"""ç¾åœ¨æˆ‘æœ‰å€‹ä»»å‹™ç›®æ¨™ï¼Œæˆ‘è¦æ’°å¯«ä¸€ç¯‡SEOç‚ºç›®çš„çš„æ–‡ç« ï¼Œåˆ©ç”¨æœå°‹çµæœé”æˆä»¥ä¸‹ç›®çš„:

{p2_goal}

ç‚ºäº†é€™å€‹ç›®çš„ï¼Œä½ èªç‚ºæˆ‘é¸é—œéµå­—è©²é–å®šå“ªäº›ä¸»é¡Œ?"""
    
    st.code(prompt2, language="markdown")

st.divider()

# ==========================================
# Section 3: æ ¸å¿ƒé—œéµå­—ç¯©é¸
# ==========================================
st.header("Step 3: æ ¸å¿ƒé—œéµå­—ç¯©é¸")
col1_s3, col2_s3 = st.columns([1, 1])

with col1_s3:
    p3_input = st.text_area("åœ¨æ­¤è²¼ä¸Š AI (åœ¨ Step 2) å»ºè­°çš„é—œéµå­—/ä¸»é¡Œæ¸…å–®ï¼š", height=150, placeholder="è²¼ä¸Š AI å‰›å‰›ç”¢ç”Ÿçš„ä¸»é¡Œåˆ—è¡¨...")

with col2_s3:
    st.caption("ğŸš€ è¤‡è£½ä¸‹æ–¹çš„ Prompt çµ¦ AIï¼š")
    p3_keywords_context = get_value(p3_input, "è«‹åœ¨æ­¤è™•è²¼ä¸Š AI å»ºè­°çš„é—œéµå­—ä¸»é¡Œæ¸…å–®")
    
    prompt3 = f"""æ ¹æ“šé€™äº›é—œéµå­—ï¼Œä½ èªç‚ºå“ªäº›å­—æœ€é©åˆä½œç‚ºé€™ç¯‡æ–‡ç« æ“ä½œçš„æ ¸å¿ƒé—œéµå­—

åƒè€ƒæ¸…å–®ï¼š
{p3_keywords_context}"""
    
    st.code(prompt3, language="markdown")

st.divider()

# ==========================================
# Section 4: æœå°‹æ„åœ–æ·±åº¦ç ”ç©¶
# ==========================================
st.header("Step 4: æœå°‹æ„åœ– Deep Research")
col1_s4, col2_s4 = st.columns([1, 1])

with col1_s4:
    p4_input = st.text_area("åœ¨æ­¤è¼¸å…¥æ±ºå®šè¦æ“ä½œçš„ã€Œæ ¸å¿ƒé—œéµå­—ã€ï¼š", height=150, placeholder="ä¾‹å¦‚ï¼š\né—œéµå­—A\né—œéµå­—B")

with col2_s4:
    st.caption("ğŸš€ è¤‡è£½ä¸‹æ–¹çš„ Prompt çµ¦ AIï¼š")
    p4_keywords = get_value(p4_input, "è«‹åœ¨æ­¤è™•è¼¸å…¥æ‚¨é¸å®šçš„æ ¸å¿ƒé—œéµå­—æ¸…å–®")
    
    prompt4 = f"""å¹«æˆ‘é‡å°ä¸‹åˆ—é—œéµå­—é€²è¡Œç ”ç©¶(deep research)
æˆ‘éœ€è¦çŸ¥é“çš„äº‹æƒ…æœ‰ï¼Œé€™äº›é—œéµå­—åœ¨æœå°‹çµæœä¸­ï¼Œæ’åå‰å…©é çš„æœå°‹çµæœæ¨™é¡Œéƒ½æ˜¯äº›ä»€éº¼?é€²è€Œå¹«æˆ‘æ¨è«–ï¼Œæœå°‹æˆ‘çµ¦çš„é€™äº›å­—çš„ä½¿ç”¨è€…å…·æœ‰ä»€éº¼æ¨£çš„æœå°‹æ„åœ–èˆ‡è³‡è¨Šéœ€æ±‚?

è«‹ç ”ç©¶å¾Œï¼Œå¹«æˆ‘å½™æ•´æ¯å€‹é—œéµå­—å°æ‡‰çš„æœå°‹æ„åœ–ã€‚

é—œéµå­—æ¸…å–®:
{p4_keywords}"""
    
    st.code(prompt4, language="markdown")

st.divider()

# ==========================================
# Section 5: æ–‡ç« æ¨™é¡Œå»ºè­°
# ==========================================
st.header("Step 5: æ–‡ç« æ¨™é¡Œå»ºè­°")
col1_s5, col2_s5 = st.columns([1, 1])

with col1_s5:
    p5_input = st.text_area("åœ¨æ­¤è²¼ä¸Š AI (åœ¨ Step 4) åˆ†æçš„æœå°‹æ„åœ–/è³‡è¨Šéœ€æ±‚ï¼š", height=150, placeholder="è²¼ä¸Š AI åˆ†æçš„æ„åœ–çµæœï¼Œå¹«åŠ©å®ƒç”Ÿæˆæ›´ç²¾æº–çš„æ¨™é¡Œ...")

with col2_s5:
    st.caption("ğŸš€ è¤‡è£½ä¸‹æ–¹çš„ Prompt çµ¦ AIï¼š")
    p5_intent = get_value(p5_input, "è«‹åœ¨æ­¤è™•è²¼ä¸Šæœå°‹æ„åœ–åˆ†æçµæœ")
    
    # é€™è£¡å·²æ ¹æ“šéœ€æ±‚ä¿®æ”¹
    prompt5 = f"""è«‹å¹«æˆ‘æ ¹æ“šæˆ‘çµ¦çš„è³‡è¨Š/æœå°‹æ„åœ–ï¼Œçµ¦æˆ‘é€™ç¯‡æ–‡ç« èƒ½ç¬¦åˆæœå°‹æ„åœ–çš„æ¨™é¡Œå»ºè­°æ¸…å–®

è³‡è¨Š/æœå°‹æ„åœ–åƒè€ƒï¼š
{p5_intent}"""
    
    st.code(prompt5, language="markdown")

st.divider()

# ==========================================
# Section 6: æ“¬å®šå¤§ç¶±
# ==========================================
st.header("Step 6: æ“¬å®šæ–‡ç« å¤§ç¶±")
col1_s6, col2_s6 = st.columns([1, 1])

with col1_s6:
    p6_input = st.text_input("åœ¨æ­¤è¼¸å…¥æ‚¨æœ€çµ‚é¸æ“‡çš„ã€Œæ–‡ç« æ¨™é¡Œã€ï¼š", placeholder="ä¾‹å¦‚ï¼šå¦‚ä½•ä½¿ç”¨ AI æå‡å·¥ä½œæ•ˆç‡ï¼Ÿ")

with col2_s6:
    st.caption("ğŸš€ è¤‡è£½ä¸‹æ–¹çš„ Prompt çµ¦ AIï¼š")
    p6_title = get_value(p6_input, "è«‹åœ¨æ­¤è™•å¡«å…¥æ‚¨é¸æ“‡çš„æ–‡ç« æ¨™é¡Œ")
    
    prompt6 = f"""æˆ‘é¸æ“‡çš„æ¨™é¡Œå¦‚ä¸‹ï¼Œè«‹æ ¹æ“šé€™å€‹æ¨™é¡Œå¹«æˆ‘æ“¬å®šé€™ç¯‡æ–‡ç« çš„å¤§ç¶±
æˆ‘å¸Œæœ›æ¨™é¡Œèƒ½å¤ éƒ½ä»¥å•é¡Œå°å‘å‘ˆç¾ã€‚

æ–‡ç« æ¨™é¡Œ: {p6_title}"""
    
    st.code(prompt6, language="markdown")

st.divider()

# ==========================================
# Section 7: æ’°å¯«æ–‡ç« å…§å®¹
# ==========================================
st.header("Step 7: æ’°å¯«æ–‡ç« å…§å®¹")
col1_s7, col2_s7 = st.columns([1, 1])

with col1_s7:
    p7_word_count = st.text_input("æ–‡ç« å­—æ•¸éœ€æ±‚ï¼š", value="1500å­—")
    p7_cta = st.text_input("æ–‡ç«  CTA é€£çµï¼š", value="https://example.com")
    p7_outline = st.text_area("åœ¨æ­¤è²¼ä¸Šç¢ºèªå¾Œçš„ã€Œæ–‡ç« å¤§ç¶±ã€ï¼š", height=200, placeholder="è²¼ä¸Š AI æ“¬å®šçš„å¤§ç¶±...")

with col2_s7:
    st.caption("ğŸš€ è¤‡è£½ä¸‹æ–¹çš„ Prompt çµ¦ AIï¼š")
    p7_outline_content = get_value(p7_outline, "è«‹åœ¨æ­¤è™•è²¼ä¸Šæ–‡ç« å¤§ç¶±")
    
    prompt7 = f"""è«‹å¹«æˆ‘æ ¹æ“šå‰é¢è¨‚å¥½çš„å¤§é‹¼èˆ‡æ¨™é¡Œï¼Œæ’°å¯«æ–‡ç« å…§å®¹

æ–‡ç« å­—æ•¸éœ€æ±‚: {p7_word_count}

æ–‡ç« CTA é€£çµ: {p7_cta}

å¤§ç¶±:
{p7_outline_content}"""
    
    st.code(prompt7, language="markdown")

# --- åº•éƒ¨æ§åˆ¶ ---
st.divider()
if st.button("ğŸ—‘ï¸ æ¸…ç©ºæ‰€æœ‰è¼¸å…¥æ¬„ä½"):
    st.rerun()
